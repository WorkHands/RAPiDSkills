{"version":3,"sources":["webpack:///./src/views/Follow.vue?8436","webpack:///./src/views/Follow.vue?1128","webpack:///./src/views/Follow.vue","webpack:///./src/views/Follow.vue?797a","webpack:///./src/views/Follow.vue?c398"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","loading","successful","_e","on","$event","preventDefault","submitUser","class","submitted","user","propertyValid","attrs","directives","name","rawName","value","expression","domProps","target","composing","$set","_s","staticRenderFns","email","organizationName","property","paramErrors","filter","error","length","async","api","post","data","type","attributes","organization_name","methods","userValid","errors","invalid","submitError","component"],"mappings":"0GAAA,yBAA2gB,EAAG,G,2CCA9gB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,mEAAmE,CAACN,EAAIO,GAAG,iBAAiBH,EAAG,MAAM,CAACE,YAAY,sEAAsE,CAACN,EAAIO,GAAG,gHAAiHP,EAAIQ,SAAWR,EAAIS,WAAYL,EAAG,MAAM,CAACE,YAAY,0DAA0D,CAACF,EAAG,MAAM,CAACJ,EAAIO,GAAG,0CAA0CH,EAAG,MAAM,CAACJ,EAAIO,GAAG,+CAA+CP,EAAIU,KAAOV,EAAIS,WAAm9ET,EAAIU,KAA38EN,EAAG,OAAO,CAACE,YAAY,6BAA6BK,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBb,EAAIc,WAAWF,MAAW,CAACR,EAAG,MAAM,CAACE,YAAY,wDAAwDS,MAAM,CAAE,eAAgBf,EAAIgB,YAAchB,EAAIiB,KAAKC,cAAc,UAAW,CAACd,EAAG,QAAQ,CAACE,YAAY,wDAAwDa,MAAM,CAAC,IAAM,SAAS,CAACnB,EAAIO,GAAG,UAAUH,EAAG,QAAQ,CAACgB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOvB,EAAIiB,KAAS,KAAEO,WAAW,cAAclB,YAAY,wDAAwDa,MAAM,CAAC,KAAO,OAAO,GAAK,OAAO,KAAO,OAAO,YAAc,kBAAkBM,SAAS,CAAC,MAASzB,EAAIiB,KAAS,MAAGN,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,WAAqB3B,EAAI4B,KAAK5B,EAAIiB,KAAM,OAAQL,EAAOc,OAAOH,aAAanB,EAAG,MAAM,CAACE,YAAY,wDAAwDS,MAAM,CAAE,eAAgBf,EAAIgB,YAAchB,EAAIiB,KAAKC,cAAc,WAAY,CAACd,EAAG,QAAQ,CAACE,YAAY,wDAAwDa,MAAM,CAAC,IAAM,UAAU,CAACnB,EAAIO,GAAG,WAAWH,EAAG,QAAQ,CAACgB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOvB,EAAIiB,KAAU,MAAEO,WAAW,eAAelB,YAAY,wDAAwDa,MAAM,CAAC,KAAO,QAAQ,GAAK,QAAQ,KAAO,QAAQ,YAAc,cAAcM,SAAS,CAAC,MAASzB,EAAIiB,KAAU,OAAGN,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,WAAqB3B,EAAI4B,KAAK5B,EAAIiB,KAAM,QAASL,EAAOc,OAAOH,aAAanB,EAAG,MAAM,CAACE,YAAY,wDAAwDS,MAAM,CAAE,eAAgBf,EAAIgB,YAAchB,EAAIiB,KAAKC,cAAc,sBAAuB,CAACd,EAAG,QAAQ,CAACE,YAAY,wDAAwDa,MAAM,CAAC,IAAM,iBAAiB,CAACnB,EAAIO,GAAG,kBAAkBH,EAAG,QAAQ,CAACgB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOvB,EAAIiB,KAAqB,iBAAEO,WAAW,0BAA0BlB,YAAY,wDAAwDa,MAAM,CAAC,KAAO,OAAO,GAAK,eAAe,KAAO,eAAe,YAAc,4BAA4BM,SAAS,CAAC,MAASzB,EAAIiB,KAAqB,kBAAGN,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOc,OAAOC,WAAqB3B,EAAI4B,KAAK5B,EAAIiB,KAAM,mBAAoBL,EAAOc,OAAOH,aAAanB,EAAG,SAAS,CAACE,YAAY,qEAAqEa,MAAM,CAAC,KAAO,SAAS,SAAWnB,EAAIQ,UAAU,CAACR,EAAIO,GAAG,IAAIP,EAAI6B,GAAG7B,EAAIQ,QAAU,gBAAkB,UAAU,cAC3rGsB,EAAkB,G,sGC0ChB,E,WAAN,oCAEE,KAAAT,KAAe,GAGf,KAAAU,MAAgB,GAGhB,KAAAC,iBAA2B,G,6DAEbC,GACZ,IAAMC,EAAiC,0BAAajC,MACpD,OAAQiC,EAAYC,QAAO,SAAAC,GAAK,OAAIA,EAAMH,WAAaA,KAAUI,W,KAVnE,QADC,uBAAU,I,2BAIX,QADC,wB,4BAID,QADC,uBAAU,I,uCASb,IAAM,EAAa,SAAOpB,GAAP,0BAAAqB,OAAA,0EAAgCC,EAAA,KAAOC,KAAK,QAAS,CACtEC,KAAM,CACJC,KAAM,QACNC,WAAY,CACVtB,KAAMJ,EAAKI,KACXU,MAAOd,EAAKc,MACZa,kBAAmB3B,EAAKe,sBANX,sCAWJ,GACba,QAAS,CACDC,UADC,4IAEmC,sBAAU7C,KAAagB,OAF1D,cAEC8B,EAFD,0BAGGA,EAAOV,QAHV,gDAKDvB,WALC,oGAMJb,KAAae,WAAY,EANrB,kCAO2Bf,KAAK6C,aAPhC,UAOJ7C,KAAa+C,SAPT,QASA/C,KAAa+C,QATb,wDAaJ/C,KAAae,WAAY,EACzBf,KAAagD,aAAc,EAC3BhD,KAAaO,SAAU,EAfnB,4CAkBoB,EAAYP,KAAagB,OAlB7C,eAmBFhB,KAAaQ,YAAa,EAnBxB,qDAqBFR,KAAagD,aAAc,EArBzB,QAwBJhD,KAAaO,SAAU,EAxBnB,2DA2BTiC,KA5Ba,WA6BX,MAAO,CACLzB,WAAW,EACXP,YAAY,EACZuC,SAAS,EACTC,aAAa,EACbzC,SAAS,EACTS,KAAM,IAAI,KCzGiX,I,wBCQ7XiC,EAAY,eACd,EACAnD,EACA+B,GACA,EACA,KACA,KACA,MAIa,aAAAoB,E","file":"js/follow.8b732b44.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follow.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follow.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page--follow\"},[_c('div',{staticClass:\"page--follow__form\"},[_c('div',{staticClass:\"page--follow__text page--follow__form__text page--follow__title\"},[_vm._v(\" Follow us \")]),_c('div',{staticClass:\"page--follow__text page--follow__form__text page--follow__subtitle\"},[_vm._v(\" Please enter your information so that we can keep you up to date on what is happening with RapidSkills. \")]),(!_vm.loading && _vm.successful)?_c('div',{staticClass:\"page--follow__form__submitted page--follow__form__text\"},[_c('div',[_vm._v(\"Your information has been submitted!\")]),_c('div',[_vm._v(\"Keep your eyes peeled for some updates.\")])]):_vm._e(),(!_vm.successful)?_c('form',{staticClass:\"page--follow__form__inputs\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submitUser($event)}}},[_c('div',{staticClass:\"input input--spaced page--follow__form__inputs__input\",class:{ 'input--error': _vm.submitted && !_vm.user.propertyValid('name') }},[_c('label',{staticClass:\"input__label page--follow__form__inputs__input__label\",attrs:{\"for\":\"name\"}},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.name),expression:\"user.name\"}],staticClass:\"input__input page--follow__form__inputs__input__input\",attrs:{\"type\":\"text\",\"id\":\"name\",\"name\":\"name\",\"placeholder\":\"Your full name\"},domProps:{\"value\":(_vm.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"input input--spaced page--follow__form__inputs__input\",class:{ 'input--error': _vm.submitted && !_vm.user.propertyValid('email') }},[_c('label',{staticClass:\"input__label page--follow__form__inputs__input__label\",attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"input__input page--follow__form__inputs__input__input\",attrs:{\"type\":\"email\",\"id\":\"email\",\"name\":\"email\",\"placeholder\":\"Your email\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"input input--spaced page--follow__form__inputs__input\",class:{ 'input--error': _vm.submitted && !_vm.user.propertyValid('organizationName') }},[_c('label',{staticClass:\"input__label page--follow__form__inputs__input__label\",attrs:{\"for\":\"organization\"}},[_vm._v(\"Organization\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.organizationName),expression:\"user.organizationName\"}],staticClass:\"input__input page--follow__form__inputs__input__input\",attrs:{\"type\":\"text\",\"id\":\"organization\",\"name\":\"organization\",\"placeholder\":\"Your organization's name\"},domProps:{\"value\":(_vm.user.organizationName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"organizationName\", $event.target.value)}}})]),_c('button',{staticClass:\"button button--inverted page--follow__form__inputs__button--submit\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._v(\" \"+_vm._s(_vm.loading ? 'Submitting...' : 'Submit')+\" \")])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  IsEmail, MinLength, validate, validateSync, ValidationError, IsDefined,\n} from 'class-validator';\n\nimport { apiRaw } from '@/utilities/api';\n\nclass CreateUserUser {\n  @MinLength(1)\n  name: string = '';\n\n  @IsEmail()\n  email: string = '';\n\n  @MinLength(1)\n  organizationName: string = '';\n\n  propertyValid(property: string): boolean {\n    const paramErrors: ValidationError[] = validateSync(this);\n    return !paramErrors.filter(error => error.property === property).length;\n  }\n}\n\nconst createUser = async (user: CreateUserUser) => apiRaw.post('users', { // TODO: create User model\n  data: {\n    type: 'users',\n    attributes: {\n      name: user.name,\n      email: user.email,\n      organization_name: user.organizationName,\n    },\n  },\n});\n\nexport default {\n  methods: {\n    async userValid(): Promise<boolean> {\n      const errors: ValidationError[] = await validate((this as any).user);\n      return !errors.length;\n    },\n    async submitUser() {\n      (this as any).submitted = true;\n      (this as any).invalid = !(await this.userValid());\n\n      if ((this as any).invalid) {\n        return;\n      }\n\n      (this as any).submitted = false;\n      (this as any).submitError = false;\n      (this as any).loading = true;\n\n      try {\n        const response = await createUser((this as any).user);\n        (this as any).successful = true;\n      } catch (e) {\n        (this as any).submitError = true;\n      }\n\n      (this as any).loading = false;\n    },\n  },\n  data() {\n    return {\n      submitted: false,\n      successful: false,\n      invalid: false,\n      submitError: false,\n      loading: false,\n      user: new CreateUserUser(),\n    };\n  },\n};\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Follow.vue?vue&type=template&id=0e62093f&\"\nimport script from \"./Follow.vue?vue&type=script&lang=ts&\"\nexport * from \"./Follow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Follow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
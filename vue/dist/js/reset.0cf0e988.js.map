{"version":3,"sources":["webpack:///./src/views/ResetPassword.vue?516c","webpack:///./src/views/ResetPassword.vue","webpack:///./src/views/ResetPassword.vue?a321","webpack:///./src/views/ResetPassword.vue?8dd5","webpack:///./src/views/ResetPassword.vue?ebd5"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","domProps","_s","formTitle","formSubtitle","on","$event","stopPropagation","preventDefault","submit","type","indexOf","_k","keyCode","key","class","sessionPropertyInvalid","attrs","_v","directives","name","rawName","value","session","expression","passwordPlaceholder","target","composing","$set","passwordConfirmationPlaceholder","errorMessage","_e","loading","submitButtonText","staticRenderFns","validatorOptions","groups","whitelist","submitError","Session","property","validating","propertyInvalid","resetToken","save","$router","push","valid","component"],"mappings":"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","file":"js/reset.0cf0e988.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page--reset\"},[_c('div',{staticClass:\"page--reset__form\"},[_c('div',{staticClass:\"page--reset__text page--reset__form__text page--reset__title\",domProps:{\"innerHTML\":_vm._s(_vm.formTitle)}}),_c('div',{staticClass:\"page--reset__text page--reset__form__text page--reset__subtitle\",domProps:{\"innerHTML\":_vm._s(_vm.formSubtitle)}}),_c('form',{staticClass:\"page--reset__form__inputs\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submit($event)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.stopPropagation();$event.preventDefault();return _vm.submit($event)}}},[_c('div',{staticClass:\"input input--spaced page--reset__form__inputs__input\",class:{ 'input--error': _vm.sessionPropertyInvalid('password') }},[_c('label',{staticClass:\"input__label page--reset__form__inputs__input__label\",attrs:{\"for\":\"password\"}},[_vm._v(\"Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.session.password),expression:\"session.password\"}],staticClass:\"input__input page--reset__form__inputs__input__input\",attrs:{\"type\":\"password\",\"id\":\"password\",\"name\":\"password\",\"placeholder\":_vm.passwordPlaceholder},domProps:{\"value\":(_vm.session.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.session, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"input input--spaced page--reset__form__inputs__input\",class:{ 'input--error': _vm.sessionPropertyInvalid('passwordConfirmation') }},[_c('label',{staticClass:\"input__label page--reset__form__inputs__input__label\",attrs:{\"for\":\"passwordConfirmation\"}},[_vm._v(\"Confirm password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.session.passwordConfirmation),expression:\"session.passwordConfirmation\"}],staticClass:\"input__input page--reset__form__inputs__input__input\",attrs:{\"type\":\"password\",\"id\":\"passwordConfirmation\",\"name\":\"passwordConfirmation\",\"placeholder\":_vm.passwordConfirmationPlaceholder},domProps:{\"value\":(_vm.session.passwordConfirmation)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.session, \"passwordConfirmation\", $event.target.value)}}})]),(_vm.submitError)?_c('div',{staticClass:\"page--reset__form__inputs__error\",domProps:{\"innerHTML\":_vm._s(_vm.errorMessage)}}):_vm._e(),_c('button',{staticClass:\"button button--inverted page--reset__form__inputs__button--submit\",attrs:{\"type\":\"submit\",\"disabled\":_vm.session.loading}},[_vm._v(\" \"+_vm._s(_vm.submitButtonText)+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport _get from 'lodash/get';\nimport Vue from 'vue';\nimport { Component, Prop } from 'vue-property-decorator';\n\nimport {\n  ValidatorOptions,\n} from 'class-validator';\n\nimport Session, { VALIDATION_GROUP_NAME_RESET } from '@/models/Session';\n\nconst validatorOptions: ValidatorOptions = {\n  groups: [VALIDATION_GROUP_NAME_RESET],\n  whitelist: true,\n};\n\n@Component\nexport default class ResetPassword extends Vue {\n  submitError: boolean = false\n\n  session: Session = new Session({ validatorOptions })\n\n  formTitle: string = 'Reset password'\n\n  formSubtitle: string = 'Please enter a new password to finish resetting.'\n\n  passwordPlaceholder: string = 'Your new password'\n\n  passwordConfirmationPlaceholder: string = 'Your new password, again'\n\n  errorMessage: string = 'We failed to reset your password, please try again.'\n\n  sessionPropertyInvalid(property: string) {\n    return this.submitError || (this.session.validating && this.session.propertyInvalid(property));\n  }\n\n  mounted() {\n    this.session.resetToken = _get(this, '$route.query.resetToken');\n  }\n\n  async submit() {\n    try {\n      await this.session.save();\n      this.$router.push({ name: 'standards' }); // TODO: define a \"go to home\" method?\n    } catch (e) {\n      this.submitError = this.session.valid;\n    }\n  }\n\n  get submitButtonText(): string {\n    return this.session.loading ? 'Submitting...' : 'Submit';\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=script&lang=tsx&\"","import { render, staticRenderFns } from \"./ResetPassword.vue?vue&type=template&id=6bb286b6&\"\nimport script from \"./ResetPassword.vue?vue&type=script&lang=tsx&\"\nexport * from \"./ResetPassword.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./ResetPassword.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResetPassword.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}